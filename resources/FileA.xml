<?xml version="1.0" encoding="UTF-8"?>
<tns:BIMRule xmlns:tns="http://inf.bi.rub.de/OpenBimRL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://inf.bi.rub.de/OpenBimRL OpenBimRL.xsd ">
  <tns:Precalculations>
		
		<tns:Node id="n-01" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="IfcBuilding"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Edge id="e0" source="n-01" sourceHandle="0" target="n-0" targetHandle="0"/>
		
		<tns:Node id="n-0" function="filterByElement">
			<tns:Inputs>
				<tns:Input name="Ifc class name" typeHint="String"/>
			</tns:Inputs>
			<tns:Outputs>
				<tns:Output name="entities"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Node id="n-1" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="MBO_Allgemein"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Node id="n-2" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="Gebäudeklasse"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Edge id="e1" source="n-0" sourceHandle="0" target="n-3" targetHandle="0"/>
		<tns:Edge id="e2" source="n-1" sourceHandle="0" target="n-3" targetHandle="1"/>
		<tns:Edge id="e3" source="n-2" sourceHandle="0" target="n-3" targetHandle="2"/>
		
		<tns:Node id="n-3" function="getProperty">
			<tns:Inputs>
				<tns:Input name="Ifc Element"/>
				<tns:Input name="Property Set" />
				<tns:Input name="Property Name"/>
			</tns:Inputs>
			<tns:Outputs>
			    <!-- Gebäudeklasse -->
				<tns:Output name="Value" />
			</tns:Outputs>
		</tns:Node>
		
		<tns:Node id="n-4_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="IfcSpace"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Edge id="e61" source="n-4_0" sourceHandle="0" target="n-4" targetHandle="0"/>

		<tns:Node id="n-4" function="filterByElement">
			<tns:Inputs>
				<tns:Input name="Ifc Class" typeHint="String" collectionType="collection"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Alle Raumobjekte -->
				<tns:Output name="entities"/>
			</tns:Outputs>
		</tns:Node>


		<tns:Node id="n-5_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="MBO_Räume"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-5_1" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="IstAufenthaltsraum"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-5_2" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="true"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e6" source="n-4" sourceHandle="0" target="n-5" targetHandle="0"/>
		<tns:Edge id="e8" source="n-5_0" sourceHandle="0" target="n-5" targetHandle="1"/>
		<tns:Edge id="e9" source="n-5_1" sourceHandle="0" target="n-5" targetHandle="2"/>
		<tns:Edge id="e10" source="n-5_2" sourceHandle="0" target="n-5" targetHandle="3"/>
		
		<tns:Node id="n-5" function="filterByProperty">
			<tns:Inputs>
				<tns:Input name="from List"/>
				<tns:Input name="Property Set" typeHint="String" collectionType="collection"/>
				<tns:Input name="Property Name" typeHint="String" collectionType="collection"/>
				<tns:Input name="Property value" collectionType="collection"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Alle Aufenthaltsräume -->
				<tns:Output name="entities"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Edge id="e11" source="n-5" sourceHandle="0" target="n-6" targetHandle="0"/>
		
		<tns:Node id="n-6" function="getHeight">
			<tns:Inputs>
				<tns:Input name="object" />
			</tns:Inputs>
			<tns:Outputs>
				<!-- Höhen der Aufenthaltsräume -->
				<tns:Output name="minHeight" />
				<tns:Output name="maxHeight" />
			</tns:Outputs>
		</tns:Node>


		<tns:Node id="n-7_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="desc"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e12" source="n-5" sourceHandle="0" target="n-7" targetHandle="0"/>
		<tns:Edge id="e13" source="n-6" sourceHandle="0" target="n-7" targetHandle="1"/>
		<tns:Edge id="e17" source="n-7_0" sourceHandle="0" target="n-7" targetHandle="2"/>
		
		<tns:Node id="n-7" function="orderBy">
			<tns:Inputs>
				<tns:Input name="list" typeHint="Object" collectionType="collection"/>
				<tns:Input name="referenceList" />
				<tns:Input name="order" />
			</tns:Inputs>
			<tns:Outputs>
				<!-- Aufenthaltsräume absteigend sortiert nach Höhe -->
				<tns:Output name="sortedList"/>
				<tns:Output name="sortedReferenceValues"/>
			</tns:Outputs>
		</tns:Node>


		<tns:Node id="n-8_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="0"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e18" source="n-7" sourceHandle="0" target="n-8" targetHandle="0"/>
		<tns:Edge id="e19" source="n-8_0" sourceHandle="0" target="n-8" targetHandle="1"/>

		<tns:Node id="n-8" function="getElementAt">
			<tns:Inputs>
				<tns:Input name="list"/>
				<tns:Input name="position"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Höchster Aufenthaltsraum -->
				<tns:Output name="element"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-9_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="0"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e20" source="n-7" sourceHandle="1" target="n-9" targetHandle="0"/>
		<tns:Edge id="e60" source="n-9_0" sourceHandle="0" target="n-9" targetHandle="1"/>

		<tns:Node id="n-9" function="getElementAt">
			<tns:Inputs>
				<tns:Input name="list" />
				<tns:Input name="position"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Höhenwert des Höchsten Aufenthaltsraumes -->
				<tns:Output name="element"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Edge id="e21" source="n-8" sourceHandle="0" target="n-10" targetHandle="0"/>

		<tns:Node id="n-10" function="getStorey">
			<tns:Inputs>
				<tns:Input name="element"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Etage des höchsten Aufenthaltsraumes -->
				<tns:Output name="storey"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Node id="n-11_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="Qto_SpaceBaseQuantities"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-11_1" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="FinishFloorHeight"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e22" source="n-8" sourceHandle="0" target="n-11" targetHandle="0"/>
		<tns:Edge id="e24" source="n-11_0" sourceHandle="0" target="n-11" targetHandle="1"/>
		<tns:Edge id="e25" source="n-11_1" sourceHandle="0" target="n-11" targetHandle="2"/>

		<tns:Node id="n-11" function="getQuantity">
			<tns:Inputs>
				<tns:Input name="Ifc Element" />
				<tns:Input name="Quantity set" typeHint="String" collectionType="collection"/>
				<tns:Input name="Quantity Name" typeHint="String" collectionType="collection"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Höhe des Fußbodenaufbaus des höchsten Aufenthaltsraumes -->
				<tns:Output name="Value"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Node id="n-12_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="IfcBuildingElementProxy"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e27" source="n-12_0" sourceHandle="0" target="n-12" targetHandle="0"/>

		<tns:Node id="n-12" function="filterByElement">
			<tns:Inputs>
				<tns:Input name="Ifc Class" typeHint="String" collectionType="collection"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Alle Proxyelemente -->
				<tns:Output name="entities"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-13_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="MBO_Bezugspunkt"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-13_1" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="IstGeländehöheImMittel"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-13_2" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="true"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e28" source="n-12" sourceHandle="0" target="n-13" targetHandle="0"/>
		<tns:Edge id="e29" source="n-13_0" sourceHandle="0" target="n-13" targetHandle="1"/>
		<tns:Edge id="e30" source="n-13_1" sourceHandle="0" target="n-13" targetHandle="2"/>
		<tns:Edge id="e31" source="n-13_2" sourceHandle="0" target="n-13" targetHandle="3"/>

		<tns:Node id="n-13" function="filterByProperty">
			<tns:Inputs>
				<tns:Input name="from List"/>
				<tns:Input name="Property Set" typeHint="String" collectionType="collection"/>
				<tns:Input name="Property Name" typeHint="String" collectionType="collection"/>
				<tns:Input name="Property value" collectionType="collection"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Bezugspunkt der mittleren Geländehöhe -->
				<tns:Output name="entities"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Edge id="e32" source="n-13" sourceHandle="0" target="n-14" targetHandle="0"/>

		<tns:Node id="n-14" function="getHeight">
			<tns:Inputs>
				<tns:Input name="object" collectionType="single" />
			</tns:Inputs>
			<tns:Outputs>
				<!-- Höhenwerte des Bezugspunktes der mittleren Geländehöhe -->
				<tns:Output name="minHeight"/>
				<tns:Output name="maxHeight"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Edge id="e23" source="n-9" sourceHandle="0" target="n-15" targetHandle="0"/>
		<tns:Edge id="e26" source="n-11" sourceHandle="0" target="n-15" targetHandle="1"/>

		<tns:Node id="n-15" function="addition">
			<tns:Inputs>
				<tns:Input name="operand1" collectionType="single"/>
				<tns:Input name="operand2" collectionType="single"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Höhenwert FOK des Höchsten Aufenthaltsraumes -->
				<tns:Output name="result"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Edge id="e34" source="n-15" sourceHandle="0" target="n-16" targetHandle="0"/>
		<tns:Edge id="e33" source="n-14" sourceHandle="0" target="n-16" targetHandle="1"/>

		<tns:Node id="n-16" function="substraction">
			<tns:Inputs>
				<tns:Input name="operand1" collectionType="single"/>
				<tns:Input name="operand2" collectionType="single"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Gebäudehöhe -->
				<tns:Output name="result"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Node id="n-17_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="MBO_Nutzungseinheiten"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-17_1" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="Nutzungseinheit"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e7" source="n-4" sourceHandle="0" target="n-17" targetHandle="0"/>
		<tns:Edge id="e35" source="n-17_0" sourceHandle="0" target="n-17" targetHandle="1"/>
		<tns:Edge id="e36" source="n-17_1" sourceHandle="0" target="n-17" targetHandle="2"/>

		<tns:Node id="n-17" function="filterByProperty">
			<tns:Inputs>
				<tns:Input name="from List"/>
				<tns:Input name="Property Set" typeHint="String" collectionType="collection"/>
				<tns:Input name="Property Name" typeHint="String" collectionType="collection"/>
<!-- 				<tns:Input name="Property value" value="true" collectionType="collection"/> -->
			</tns:Inputs>
			<tns:Outputs>
				<!-- Nutzungseinheiten Raumobjekte -->
				<tns:Output name="entities"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Node id="n-18_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="BauantragBruttoflächen"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-18_1" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="IstBGF"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-18_2" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="true"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e37" source="n-17" sourceHandle="0" target="n-18" targetHandle="0"/>
		<tns:Edge id="e38" source="n-18_0" sourceHandle="0" target="n-18" targetHandle="1"/>
		<tns:Edge id="e39" source="n-18_1" sourceHandle="0" target="n-18" targetHandle="2"/>
		<tns:Edge id="e40" source="n-18_2" sourceHandle="0" target="n-18" targetHandle="3"/>

		<tns:Node id="n-18" function="filterByProperty">
			<tns:Inputs>
				<tns:Input name="from List"/>
				<tns:Input name="Property Set" typeHint="String" collectionType="collection"/>
				<tns:Input name="Property Name" typeHint="String" collectionType="collection"/>
				<tns:Input name="Property value" collectionType="collection"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Nutzungseinheiten Raumobjekte Bruttoflächen -->
				<tns:Output name="entities"/>
			</tns:Outputs>
		</tns:Node>


		<tns:Node id="n-19_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="BauantragBruttoflächen"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-19_1" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="Raumumschließung"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-19_2" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="REGELFALL"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e41" source="n-18" sourceHandle="0" target="n-19" targetHandle="0"/>
		<tns:Edge id="e42" source="n-19_0" sourceHandle="0" target="n-19" targetHandle="1"/>
		<tns:Edge id="e43" source="n-19_1" sourceHandle="0" target="n-19" targetHandle="2"/>
		<tns:Edge id="e44" source="n-19_2" sourceHandle="0" target="n-19" targetHandle="3"/>

		<tns:Node id="n-19" function="filterByProperty">
			<tns:Inputs>
				<tns:Input name="from List"/>
				<tns:Input name="Property Set" typeHint="String" collectionType="collection"/>
				<tns:Input name="Property Name" typeHint="String" collectionType="collection"/>
				<tns:Input name="Property value" collectionType="collection"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Nutzungseinheiten Raumobjekte Bruttoflächen REGELFALL-->
				<tns:Output name="entities"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Node id="n-20_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="Qto_SpaceBaseQuantities"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-20_1" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="GrossFloorArea"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e45" source="n-19" sourceHandle="0" target="n-20" targetHandle="0"/>
		<tns:Edge id="e47" source="n-20_0" sourceHandle="0" target="n-20" targetHandle="1"/>
		<tns:Edge id="e48" source="n-20_1" sourceHandle="0" target="n-20" targetHandle="2"/>

		<tns:Node id="n-20" function="getQuantity">
			<tns:Inputs>
				<tns:Input name="Ifc Element"/>
				<tns:Input name="Quantity set" typeHint="String" collectionType="collection"/>
				<tns:Input name="Quantity Name" typeHint="String" collectionType="collection"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Bruttoflächen der Nutzungseinheiten -->
				<tns:Output name="Value"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Node id="n-21_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="MBO_Nutzungseinheiten"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-21_1" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="Nutzungseinheit"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e46" source="n-19" sourceHandle="0" target="n-21" targetHandle="0"/>
		<tns:Edge id="e50" source="n-21_0" sourceHandle="0" target="n-21" targetHandle="1"/>
		<tns:Edge id="e51" source="n-21_1" sourceHandle="0" target="n-21" targetHandle="2"/>

		<tns:Node id="n-21" function="getProperty">
			<tns:Inputs>
				<tns:Input name="Ifc Element"/>
				<tns:Input name="Property Set" typeHint="String" />
				<tns:Input name="Property Name" typeHint="String" />
			</tns:Inputs>
			<tns:Outputs>
			    <!-- Bezeichner der Nutzungseinheiten -->
				<tns:Output name="Value" />
			</tns:Outputs>
		</tns:Node>
		
		<tns:Edge id="e49" source="n-20" sourceHandle="0" target="n-22" targetHandle="0"/>
		<tns:Edge id="e52" source="n-21" sourceHandle="0" target="n-22" targetHandle="1"/>

		<tns:Node id="n-22" function="groupBy">
			<tns:Inputs>
				<tns:Input name="list"/>
				<tns:Input name="referenceList"/>
			</tns:Inputs>
			<tns:Outputs>
				<!-- Bruttoflächen gruppiert nach Nutzungseinheiten -->
				<tns:Output name="keys"/>
				<tns:Output  name="values"/>
			</tns:Outputs>
		</tns:Node>
		
		<tns:Edge id="e54" source="n-22" sourceHandle="1" target="n-23" targetHandle="0"/>

		<tns:Node id="n-23" function="sum">
			<tns:Inputs>
				<tns:Input name="list" />
			</tns:Inputs>
			<tns:Outputs>
				<!-- Bruttoflächen der Nutzungseinheiten -->
				<tns:Output name="result" />
			</tns:Outputs>
		</tns:Node>
		
		<tns:Edge id="e55" source="n-23" sourceHandle="0" target="n-24" targetHandle="0"/>

		<tns:Node id="n-24" function="sum">
			<tns:Inputs>
				<tns:Input name="list" />
			</tns:Inputs>
			<tns:Outputs>
				<!-- Bruttoflächen der Nutzungseinheiten -->
				<tns:Output name="result" />
			</tns:Outputs>
		</tns:Node>
		
		<tns:Edge id="e53" source="n-22" sourceHandle="0" target="n-25" targetHandle="0"/>

		<tns:Node id="n-25" function="count">
			<tns:Inputs>
				<tns:Input name="list" />
			</tns:Inputs>
			<tns:Outputs>
				<!-- Anzahl der Nutzungseinheiten -->
				<tns:Output name="amount" />
			</tns:Outputs>
		</tns:Node>
		
		<tns:Node id="n-26_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="MBO_Allgemein"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-26_1" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="IstLandUndForstwirtschaftlicheNutzung"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e4" source="n-0" sourceHandle="0" target="n-26" targetHandle="0"/>
		<tns:Edge id="e56" source="n-26_0" sourceHandle="0" target="n-26" targetHandle="1"/>
		<tns:Edge id="e57" source="n-26_1" sourceHandle="0" target="n-26" targetHandle="2"/>

		<tns:Node id="n-26" function="getProperty">
			<tns:Inputs>
				<tns:Input name="Ifc Element" />
				<tns:Input name="Property Set" typeHint="String"/>
				<tns:Input name="Property Name" typeHint="String"/>
			</tns:Inputs>
			<tns:Outputs>
				<tns:Output name="Value" />
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-27_0" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="MBO_Allgemein"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Node id="n-27_1" function="textInput">
			<tns:Outputs>
				<tns:Output name="text" value="IstUnterirdisch"/>
			</tns:Outputs>
		</tns:Node>

		<tns:Edge id="e5" source="n-0" sourceHandle="0" target="n-27" targetHandle="0"/>
		<tns:Edge id="e58" source="n-27_0" sourceHandle="0" target="n-27" targetHandle="1"/>
		<tns:Edge id="e59" source="n-27_1" sourceHandle="0" target="n-27" targetHandle="2"/>

		<tns:Node id="n-27" function="getProperty">
			<tns:Inputs>
				<tns:Input name="Ifc Element" />
				<tns:Input name="Property Set" typeHint="String"/>
				<tns:Input name="Property Name" typeHint="String"/>
			</tns:Inputs>
			<tns:Outputs>
				<tns:Output name="Value" />
			</tns:Outputs>
		</tns:Node>

	</tns:Precalculations>
	
	<tns:ModelCheck name="§2 Gebäudeklasse">
		<tns:RuleIdentifiers>
			<tns:RuleIdentifier source="n-3" sourceHandle="0" ruleID="vorgabeGK">
				<tns:Message>Die vorgegebene Gebäudeklasse lautet {vorgabeGK}</tns:Message>
			</tns:RuleIdentifier>
			<tns:RuleIdentifier source="n-26" sourceHandle="0" ruleID="landUndForstwirtschaftlichGenutzt" /> 
			<tns:RuleIdentifier source="n-27" sourceHandle="0" ruleID="IstUnterirdisch" /> 
			<tns:RuleIdentifier source="n-16" sourceHandle="0" ruleID="hoehe">
				<tns:Message>Die Gebäudehöhe bzgl. der mittleren Geländehöhe beträgt {hoehe} m</tns:Message>
			</tns:RuleIdentifier> 
			<tns:RuleIdentifier source="n-25" sourceHandle="0" ruleID="anzahlNutzungseinheiten">
				<tns:Message>Es gibt insgesamt {anzahlNutzungseinheiten} Nutzungseinheiten</tns:Message>
			</tns:RuleIdentifier> 
			<tns:RuleIdentifier source="n-20" sourceHandle="0" ruleID="flaechenDerNutzungseinheiten" />
			<tns:RuleIdentifier source="n-24" sourceHandle="0" ruleID="flaecheNutzungseinheiten" >
				<tns:Message>Die Gesamtfläche der Nutzungseinheiten beträgt {flaecheNutzungseinheiten} qm </tns:Message>
			</tns:RuleIdentifier> 
			
		</tns:RuleIdentifiers>
		<tns:ModelSubChecks>
			<tns:ModelSubCheck name="Prüfung für Gebäudeklasse 1" >
				<tns:Applicability>
					<tns:Rule operator="equals" operand1="vorgabeGK" operand2="1"/>
				</tns:Applicability>
				<tns:Rules operator="or">
					<tns:Rules operator="and" >
						<tns:Rule operator="equals" operand1="IstFreistehend" operand2="true"/>
						<tns:Rule operator="lessOrEquals" operand1="hoehe" operand2="7"/>
						<tns:Rule operator="lessOrEquals" operand1="anzahlNutzungseinheiten" operand2="2"/>
						<tns:Rule operator="lessOrEquals" operand1="flaecheNutzungseinheiten" operand2="400"/>
					</tns:Rules>
					<tns:Rule operator="equals" operand1="landUndForstwirtschaftlichGenutzt" operand2="true"/>
				</tns:Rules>
			</tns:ModelSubCheck>
			<tns:ModelSubCheck name="Prüfung für Gebäudeklasse 2" >
				<tns:Applicability>
					<tns:Rule operator="equals" operand1="vorgabeGK" operand2="2"/>
				</tns:Applicability>
				<tns:Rules operator="and" >
					<tns:Rule operator="equals" operand1="landUndForstwirtschaftlichGenutzt" operand2="false"/>
					<tns:Rule operator="equals" operand1="IstFreistehend" operand2="false"/>
					<tns:Rule operator="lessOrEquals" operand1="hoehe" operand2="7"/>
					<tns:Rule operator="lessOrEquals" operand1="anzahlNutzungseinheiten" operand2="2"/>
					<tns:Rule operator="lessOrEquals" operand1="flaecheNutzungseinheiten" operand2="400"/>
				</tns:Rules>
			</tns:ModelSubCheck>
			<tns:ModelSubCheck name="Prüfung für Gebäudeklasse 3" >
				<tns:Applicability>
					<tns:Rule operator="equals" operand1="vorgabeGK" operand2="3"/>
				</tns:Applicability>
				<tns:Rules operator="and" >
					<tns:Rule operator="equals" operand1="landUndForstwirtschaftlichGenutzt" operand2="false"/>
					<tns:Rule operator="equals" operand1="IstFreistehend" operand2="false"/>
					<tns:Rule operator="lessOrEquals" operand1="hoehe" operand2="7"/>
					<tns:Rules operator="or">
						<tns:Rule operator="greaterthan" operand1="anzahlNutzungseinheiten" operand2="2"/>
						<tns:Rule operator="greaterthan" operand1="flaecheNutzungseinheiten" operand2="400"/>
					</tns:Rules>
				</tns:Rules>
			</tns:ModelSubCheck>
			<tns:ModelSubCheck name="Prüfung für Gebäudeklasse 4" >
				<tns:Applicability>
					<tns:Rule operator="equals" operand1="vorgabeGK" operand2="4"/>
				</tns:Applicability>
				<tns:Rules operator="and" >
					<tns:Rule operator="equals" operand1="landUndForstwirtschaftlichGenutzt" operand2="false"/>
					<tns:Rule operator="greaterthan" operand1="hoehe" operand2="7"/>
					<tns:Rule operator="lessOrEquals" operand1="hoehe" operand2="13"/>
					<tns:Rule quantifier="notexists" operator="greaterthan" operand1="flaechenDerNutzungseinheiten" operand2="400"/>
				</tns:Rules>
			</tns:ModelSubCheck>
			<tns:ModelSubCheck name="Prüfung für Gebäudeklasse 5" >
				<tns:Applicability>
					<tns:Rule operator="equals" operand1="vorgabeGK" operand2="5"/>
				</tns:Applicability>
				<tns:Rules operator="and" >
					<tns:Rule operator="equals" operand1="landUndForstwirtschaftlichGenutzt" operand2="false"/>
					<tns:Rules operator="or">
						<tns:Rule operator="greaterthan" operand1="hoehe" operand2="13"/>
						<tns:Rule quantifier="exists" operator="greaterthan" operand1="flaechenDerNutzungseinheiten" operand2="400"/>
						<tns:Rule operator="equals" operand1="IstUnterirdisch" operand2="true"/>
					</tns:Rules>
				</tns:Rules>
			</tns:ModelSubCheck>
		</tns:ModelSubChecks>
		
	</tns:ModelCheck>
	
</tns:BIMRule>
